(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{5180:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t(6042),o=t(9396),a=t(5893),s=t(7294),c=t(1163),i=t(9473),l=t(9721),u=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""};function d(e){var n=e.placeholder,t=e.options,r=void 0===t?[]:t,o=e.handleChange,c=e.isMultiColumn,i=(0,s.useState)(!1),l=i[0],d=i[1],p=(0,s.useRef)(null);(0,s.useEffect)(function(){var e=function(e){p.current&&!p.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}},[]);var h=r.filter(function(e){return e.ischecked}),f=h.length,g=h[0],m=function(e){e.preventDefault(),e.stopPropagation(),d(!l)};return(0,a.jsxs)("div",{ref:p,className:"relative w-full",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:void 0===n?"Select Options":n}),(0,a.jsxs)("button",{type:"button",onClick:m,className:"\n          w-full flex items-center justify-between px-4 py-3\n          bg-gray-50 border border-gray-300 rounded-lg\n          hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\n          transition-all duration-200 min-h-[48px]\n          ".concat(l?"border-blue-500 ring-2 ring-blue-500":"","\n        "),"aria-expanded":l,"aria-haspopup":"listbox",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 truncate text-left",children:0===f?"None selected":1===f?u(g.value):"".concat(u(g.value)," +").concat(f-1," more")}),(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-200 flex-shrink-0 ml-2 ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,a.jsx)("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto backdrop-blur-sm",children:(0,a.jsx)("div",{className:"p-3 ".concat(void 0!==c&&c?"grid grid-cols-2 gap-2":"space-y-2"),role:"listbox",children:r.map(function(e){return(0,a.jsxs)("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.ischecked||!1,onChange:function(n){n.stopPropagation(),null==o||o(n.target,e.type)},value:e.value,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:u(e.value)})]},e.id||e.value)})})})]})}function p(e){var n=e.options,t=e.handleChange;return(0,a.jsx)(d,{placeholder:"Type",options:n,handleChange:function(e,n){return t(e,"types")},isMultiColumn:!0})}function h(e){var n=e.options,t=e.handleChange;return(0,a.jsx)(d,{placeholder:"Gender",options:n,handleChange:function(e,n){return t(e,"gender")}})}function f(e){var n=e.value,t=e.onChange;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Pok\xe9mon"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"search",id:"search",value:n||"",onChange:function(e){return t(e.target.value)},placeholder:"Search by name or number...",className:"w-full px-4 py-3 pl-10 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,a.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}function g(e){var n=e.typeOptions,t=e.genderOptions,u=(0,c.useRouter)(),d=(0,i.I0)(),g=(0,i.v9)(l.mj),m=(0,s.useState)(n),v=m[0],x=m[1],b=(0,s.useState)(t),y=b[0],j=b[1];(0,s.useEffect)(function(){var e=u.query,n=e.search,t=e.types,r=e.genders;n&&d((0,l.Qf)(n)),t&&d((0,l.av)(t.split(","))),r&&d((0,l.Ln)(r.split(",")))},[]),(0,s.useEffect)(function(){var e,n,t=new URLSearchParams(window.location.search);g.search?t.set("search",g.search):t.delete("search"),(null===(e=g.types)||void 0===e?void 0:e.length)?t.set("types",g.types.join(",")):t.delete("types"),(null===(n=g.genders)||void 0===n?void 0:n.length)?t.set("genders",g.genders.join(",")):t.delete("genders");var r=t.toString()?"".concat(window.location.pathname,"?").concat(t.toString()):window.location.pathname;window.history.replaceState({},"",r)},[g]);var w=function(e){d((0,l.Qf)(e))},k=function(e,n){var t=e.checked,a=e.value;if("types"===n){var s=v.map(function(e){return e.value===a?(0,o.Z)((0,r.Z)({},e),{ischecked:t}):e});x(s);var c=s.filter(function(e){return e.ischecked}).map(function(e){return e.value});d((0,l.av)(c))}else if("gender"===n){var i=y.map(function(e){return e.value===a?(0,o.Z)((0,r.Z)({},e),{ischecked:t}):e});j(i);var u=i.filter(function(e){return e.ischecked}).map(function(e){return e.value});d((0,l.Ln)(u))}},N=function(){x(n.map(function(e){return(0,o.Z)((0,r.Z)({},e),{ischecked:!1})})),j(t.map(function(e){return(0,o.Z)((0,r.Z)({},e),{ischecked:!1})})),d((0,l.K5)())};return(0,a.jsx)("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsx)(f,{value:g.search,onChange:w}),(0,a.jsx)(p,{options:v,handleChange:k}),(0,a.jsx)(h,{options:y,handleChange:k})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:N,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})})]})})}},1163:function(e,n,t){e.exports=t(387)},9396:function(e,n,t){"use strict";function r(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}t.d(n,{Z:function(){return r}})}}]);